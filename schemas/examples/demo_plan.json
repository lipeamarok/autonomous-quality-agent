{
    "spec_version": "0.1",
    "meta": {
        "id": "demo-001",
        "name": "Demo Plan from File",
        "created_at": "2025-12-02T12:00:00Z"
    },
    "config": {
        "base_url": "https://httpbin.org",
        "timeout_ms": 5000,
        "variables": {
            "token_value": "autonomous-123",
            "sample_payload": "demo"
        }
    },
    "steps": [
        {
            "id": "step_get",
            "action": "http_request",
            "params": {
                "method": "GET",
                "path": "/get?token=${token_value}"
            },
            "assertions": [
                {
                    "type": "status_code",
                    "operator": "eq",
                    "value": 200
                }
            ],
            "extract": [
                {
                    "source": "body",
                    "path": "args.token",
                    "target": "auth_token"
                }
            ]
        },
        {
            "id": "step_post",
            "action": "http_request",
            "params": {
                "method": "POST",
                "path": "/post",
                "headers": {
                    "Content-Type": "application/json",
                    "X-Test-Header": "AutonomousAgent",
                    "Authorization": "Bearer ${auth_token}"
                },
                "body": {
                    "foo": "${sample_payload}",
                    "nested": {
                        "value": 123
                    }
                }
            },
            "assertions": [
                {
                    "type": "status_code",
                    "operator": "eq",
                    "value": 200
                },
                {
                    "type": "json_body",
                    "path": "json.foo",
                    "operator": "eq",
                    "value": "demo"
                }
            ]
        }
    ]
}
